---
title: "React Higher-Order Components (HOC)"
summary: "Understand Higher-Order Components (HOCs) in React with examples, use cases, downsides, and a comparison to hooks."
publishedTime: "2025-09-21"
tags: ["react", "hoc", "patterns", "frontend"]
---

A **Higher-Order Component (HOC)** is a **function that takes a component and returns a new component** with extra features.

---

## 1. Analogy â˜•

Think of a coffee cup (your component).  
A HOC is like a **sleeve** you put around the cup: it doesnâ€™t change the coffee, but it adds insulation (extra functionality).

---

## 2. Why Use HOCs?

- **Reusability** â†’ extract and share common logic.  
- **Separation of concerns** â†’ UI components stay simple, HOCs handle cross-cutting logic.  
- **Composition** â†’ wrap components with multiple behaviors.

---

## 3. Example

```tsx
// HOC that adds a loading spinner
function withLoading<P>(Component: React.ComponentType<P>) {
  return function WrappedComponent(props: P & { loading: boolean }) {
    if (props.loading) {
      return <div>Loading...</div>
    }
    return <Component {...props} />
  }
}

// Usage
function UserProfile({ name }: { name: string }) {
  return <h2>{name}</h2>
}

const UserProfileWithLoading = withLoading(UserProfile)

// Render
<UserProfileWithLoading loading={true} name="Alice" />
```

ğŸ‘‰ If `loading` is true â†’ show spinner. Otherwise, show `UserProfile`.

---

## 4. Common Use Cases

- **Auth wrapper** â†’ redirect if not logged in.  
- **Analytics wrapper** â†’ log component views.  
- **Data fetching** â†’ provide fetched data as props.  
- **UI wrappers** â†’ error boundaries, animations, styles.

---

## 5. Downsides

- Can cause **wrapper hell** (too many nested HOCs).  
- Makes React DevTools component tree messy.  
- Harder to type with **TypeScript**.  
- Modern React often prefers **Hooks** instead.

---

## 6. HOCs vs Hooks

| Feature                   | HOCs âœ… | Hooks âœ… |
|----------------------------|---------|----------|
| Share logic across comps   | âœ”ï¸ Yes  | âœ”ï¸ Yes   |
| Simple composition         | âŒ Can get messy | âœ”ï¸ Very clean |
| Works in class components  | âœ”ï¸ Yes  | âŒ No (hooks = function comps only) |
| DevTools readability       | âŒ No   | âœ”ï¸ Clear |
| Modern React preference    | âš ï¸ Legacy pattern | âœ”ï¸ Recommended |

---

## 7. Quick Mental Model ğŸ§ 

- **HOC = function wrapper â†’ adds behavior â†’ returns new component.**  
- Use it for **auth, logging, theming, analytics wrappers**.  
- Prefer **hooks** for most new code.  

---

âš¡ Thatâ€™s it! HOCs are still useful in some cases, but hooks are the modern go-to for sharing React logic.
