
<svg width="920" height="220" viewBox="0 0 920 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Event loop timeline: Start → End → Promise → Timeout">
  <defs>
    <style>
      .box { fill: #f5f7ff; stroke: #3b5bdb; stroke-width: 2; rx: 10; }
      .label { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji"; font-size: 14px; fill: #1f2937; }
      .title { font-weight: 700; font-size: 16px; }
      .lane { fill: #eef2ff; }
      .arrow { stroke: #111827; stroke-width: 2; marker-end: url(#arrow); }
      .note { fill: #6b7280; font-size: 12px; }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#111827"/>
    </marker>
  </defs>

  <!-- Lanes -->
  <rect x="20" y="30" width="880" height="40" class="lane" />
  <text x="30" y="25" class="label title">Call Stack (sync)</text>

  <rect x="20" y="110" width="880" height="40" class="lane" />
  <text x="30" y="105" class="label title">Microtask Queue (Promises)</text>

  <rect x="20" y="170" width="880" height="40" class="lane" />
  <text x="30" y="165" class="label title">Macrotask Queue (Timers)</text>

  <!-- Events on the timeline -->
  <!-- Start -->
  <rect x="120" y="35" width="100" height="30" class="box"/>
  <text x="170" y="55" text-anchor="middle" class="label">Start</text>

  <!-- End -->
  <rect x="260" y="35" width="100" height="30" class="box"/>
  <text x="310" y="55" text-anchor="middle" class="label">End</text>

  <!-- Promise microtask -->
  <rect x="420" y="115" width="140" height="30" class="box"/>
  <text x="490" y="135" text-anchor="middle" class="label">Promise.then</text>

  <!-- Timeout macrotask -->
  <rect x="620" y="175" width="120" height="30" class="box"/>
  <text x="680" y="195" text-anchor="middle" class="label">setTimeout</text>

  <!-- Flow arrows -->
  <line x1="220" y1="50" x2="260" y2="50" class="arrow"/>
  <line x1="360" y1="50" x2="420" y2="130" class="arrow"/>
  <line x1="560" y1="130" x2="620" y2="190" class="arrow"/>

  <!-- Output order -->
  <text x="720" y="30" class="label title">Console order:</text>
  <text x="720" y="50" class="label">1) Start</text>
  <text x="720" y="68" class="label">2) End</text>
  <text x="720" y="86" class="label">3) Promise</text>
  <text x="720" y="104" class="label">4) Timeout</text>

  <text x="20" y="210" class="note">Microtasks drain fully before moving to the next macrotask.</text>
</svg>
